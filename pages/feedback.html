<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Feedback Form - DeshDarshan</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/feedback.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
      <div class="nav-container">
        <div class="nav-logo">
          <h2>DeshDarshan</h2>
        </div>

        <!-- Hamburger Icon -->
        <div class="hamburger" id="hamburger">
          <span></span>
          <span></span>
          <span></span>
        </div>

        <ul class="nav-menu" id="navMenu">
          <li><a href="home1.html">Home</a></li>
          <li><a href="about us.html">About Us</a></li>
          <li><a href="crazyfacts.html">Crazy Facts</a></li>
          <li><a href="exploreindia.html">Explore India</a></li>
          <li><a href="destination.html">Hidden Destinations</a></li>
          <li><a href="quiz.html">Quiz</a></li>
        </ul>

        <div class="nav-buttons">
          <a href="contactus.html"><span>Contact Us</span><i>‚Üí</i></a>
          <a href="feedback.html"><span>Feedback</span><i>‚Üí</i></a>
        </div>
      </div>
    </nav>

    <main class="main-content">
      <div class="container">
        <div class="form-card">
          <div class="form-header">
            <h1>Share Your Feedback</h1>
            <p class="form-subtitle">Your insights help us improve the DeshDarshan experience!</p>
          </div>
          
          <form id="feedbackForm" novalidate>
            <div class="form-group">
              <label for="name">Name *</label>
              <input type="text" id="name" name="name" placeholder="Enter your full name" required />
              <div class="error-message" id="nameError">Please enter your name</div>
            </div>

            <div class="form-group">
              <label for="email">Email ID *</label>
              <input type="email" id="email" name="email" placeholder="Enter your email address" required />
              <div class="error-message" id="emailError">Please enter a valid email</div>
            </div>

            <div class="form-group">
              <label for="phone">Phone Number</label>
              <input type="tel" id="phone" name="phone" placeholder="Enter your phone number" />
              <div class="error-message" id="phoneError">Please enter a valid phone number</div>
            </div>

            <div class="form-group">
                <label for="starRating">Rating *</label>
                <div class="star-rating-container" id="starRating">
                    <span data-rating="1">‚òÖ</span>
                    <span data-rating="2">‚òÖ</span>
                    <span data-rating="3">‚òÖ</span>
                    <span data-rating="4">‚òÖ</span>
                    <span data-rating="5">‚òÖ</span>
                </div>
                <div class="rating-labels">
                  <span>Poor</span>
                  <span>Excellent</span>
                </div>
                <div class="error-message" id="ratingError">Please select a rating</div>
            </div>

            <div class="form-group">
              <label for="message">Your Feedback *</label>
              <textarea id="message" name="message" placeholder="Share your thoughts about your experience with DeshDarshan..." required></textarea>
              <div class="error-message" id="messageError">Please enter your message</div>
            </div>

            <button type="submit" class="submit-btn">
              <span>Submit Feedback</span>
              <i class="fas fa-paper-plane"></i>
            </button>
          </form>
        </div>
      </div>
    </main>

    <div class="popup-overlay" id="successPopup">
      <div class="popup">
        <div class="popup-icon">
          <i class="fas fa-check-circle"></i>
        </div>
        <div class="popup-message">
          <h3>Thank You!</h3>
          <p>Your feedback adds warmth to our colorful yatra across India. Thank you for being part of it! üå∫‚ù§Ô∏è</p>
        </div>
        <button class="popup-close" onclick="closePopup()">Close</button>
      </div>
    </div>

    <!-- Footer -->
    <footer id="footer">
      <div class="footer-content-wrapper">
        <!-- Section 1: About Desh Darshan -->
        <div class="footer-section">
          <h3 class="footer-section-title">Desh Darshan</h3>
          <p>
            Desh Darshan is your gateway to the vibrant and diverse culture of
            India. We aim to introduce the world to India's rich heritage,
            traditions, arts, and history.
          </p>
          <div class="footer-logo">DeshDarshan</div>
        </div>

        <!-- Section 2: Quick Links -->
        <div class="footer-section">
          <h3 class="footer-section-title">Quick Links</h3>
          <ul>
            <li><a href="index.html" class="footer-link">Home</a></li>
            <li><a href="about us.html" class="footer-link">About Us</a></li>
            <li><a href="explore.html" class="footer-link">Explore India</a></li>
            <li><a href="feedback.html" class="footer-link">Feedback</a></li>
            <li><a href="contactus.html" class="footer-link">Contact Us</a></li>
          </ul>
        </div>

        <!-- Section 3: Contact Us -->
        <div class="footer-section">
          <h3 class="footer-section-title">Contact Us</h3>
          <ul>
            <li class="footer-contact-item">
              <i class="fas fa-envelope"></i>
              <span>hello@deshdarshan.in</span>
            </li>
            <li class="footer-contact-item">
              <i class="fas fa-phone-alt"></i>
              <span>+91 1234567890</span>
            </li>
            <li class="footer-contact-item">
              <i class="fas fa-map-marker-alt"></i>
              <span>New Delhi, India</span>
            </li>
          </ul>
        </div>

        <!-- Section 4: Follow Us -->
        <div class="footer-section">
          <h3 class="footer-section-title">Follow Us</h3>
          <div class="social-icons-container">
            <a href="#" class="social-icon" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
            <a href="#" class="social-icon" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
            <a href="#" class="social-icon" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
            <a href="#" class="social-icon" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
          </div>
          <div class="newsletter">
            <h4>Subscribe to our newsletter</h4>
            <form class="newsletter-form">
              <input type="email" placeholder="Your email address">
              <button type="submit"><i class="fas fa-paper-plane"></i></button>
            </form>
          </div>
        </div>
      </div>
      
      <!-- Copyright -->
      <div class="copyright-section">
        &copy; <span id="year"></span> Desh Darshan. All rights reserved.
      </div>
    </footer>

    <script>
      // Mobile Navigation Toggle
      const hamburger = document.getElementById('hamburger');
      const navMenu = document.getElementById('navMenu');
      const navButtons = document.querySelector('.nav-buttons');

      hamburger.addEventListener('click', () => {
        hamburger.classList.toggle('active');
        navMenu.classList.toggle('active');
        navButtons.classList.toggle('active');
      });

      // Set current year in footer
      document.getElementById('year').textContent = new Date().getFullYear();

      const form = document.getElementById("feedbackForm");
      const stars = document.querySelectorAll("#starRating span");
      let selectedRating = 0;

      // --- STAR RATING LOGIC ---
      stars.forEach(star => {
        star.addEventListener('click', () => {
          selectedRating = parseInt(star.getAttribute('data-rating'));
          updateStars();
          // Hide error message on click
          document.getElementById('ratingError').classList.remove('show');
        });

        star.addEventListener('mouseover', () => {
          highlightStars(parseInt(star.getAttribute('data-rating')));
        });
      });

      document.getElementById('starRating').addEventListener('mouseleave', () => {
        highlightStars(selectedRating);
      });

      function highlightStars(rating) {
        stars.forEach((star, index) => {
          star.classList.toggle('active', index < rating);
        });
      }
      
      function updateStars() {
        highlightStars(selectedRating);
      }

      // --- FORM VALIDATION & SUBMISSION ---
      form.addEventListener("submit", function (e) {
        e.preventDefault();
        let isValid = true;

        // Clear previous errors
        document.querySelectorAll(".error").forEach(el => el.classList.remove("error"));
        document.querySelectorAll(".error-message").forEach(el => el.classList.remove("show"));

        // Validate Name
        const nameField = document.getElementById('name');
        if (!nameField.value.trim() || !/^[A-Za-z ]{3,}$/.test(nameField.value)) {
          showError(nameField, 'Please enter a valid name (min 3 letters)');
          isValid = false;
        }

        // Validate Email
        const emailField = document.getElementById('email');
        if (!emailField.value.trim() || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailField.value)) {
          showError(emailField, 'Please enter a valid email address');
          isValid = false;
        }
        
        // Validate Phone (optional)
        const phoneField = document.getElementById('phone');
        if (phoneField.value.trim() && !/^[\d\s\-\+()]{10,}$/.test(phoneField.value)) {
            showError(phoneField, 'Please enter a valid 10-digit phone number');
            isValid = false;
        }

        // Validate Star Rating
        if (selectedRating === 0) {
            document.getElementById('ratingError').classList.add('show');
            isValid = false;
        }

        // Validate Message
        const messageField = document.getElementById('message');
        if (!messageField.value.trim()) {
            showError(messageField, 'Please enter your message');
            isValid = false;
        }

        // If all valid, show popup
        if (isValid) {
          showSuccessPopup();
        } else {
          const firstError = document.querySelector(".error");
          if (firstError) {
            firstError.scrollIntoView({ behavior: "smooth", block: "center" });
            firstError.focus();
          }
        }
      });
      
      function showError(field, message) {
          field.classList.add('error');
          const errorElement = document.getElementById(field.id + 'Error');
          errorElement.textContent = message;
          errorElement.classList.add('show');
      }
      
      // --- POPUP LOGIC ---
      function showSuccessPopup() {
        const popup = document.getElementById("successPopup");
        popup.classList.add("show");
        document.body.style.overflow = 'hidden';
      }
      
      function closePopup() {
        const popup = document.getElementById("successPopup");
        popup.classList.remove("show");
        document.body.style.overflow = 'auto';
        form.reset();
        selectedRating = 0; // Reset rating
        updateStars(); // Reset star visuals
      }
      
      // Close popup on Escape key
      document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape' && document.getElementById('successPopup').classList.contains('show')) {
              closePopup();
          }
      });

      // Remove error on input
      document.querySelectorAll("input, textarea").forEach(field => {
          field.addEventListener("input", function () {
              this.classList.remove("error");
              const errorElement = document.getElementById(this.id + "Error");
              if (errorElement) {
                  errorElement.classList.remove("show");
              }
          });
      });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>